(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0d78d8eb"],{4455:function(t,e,n){},5530:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));n("a4d3"),n("4de4"),n("e439"),n("dbb4"),n("b64b"),n("159b");var i=n("ade3");function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){Object(i["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}},5532:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"studentExams container p-0 mt-5"},[n("h3",{staticClass:"page-title"},[t._v("أمتحانات الطلبة")]),t.loading?n("div",{staticClass:"center"},[n("loading")],1):t._e(),n("hr"),0==t.students.length?n("div",{staticClass:"center"},[n("h5",{staticClass:"text-center"},[t._v("لا يوجد طلبة في هذه الوحدة")])]):t._e(),t.students.length>0?n("div",t._l(t.students,(function(e,i){return n("div",{key:i,staticClass:"exam",class:{done:e.done,toCorrect:!e.done,late:e.solution&&!e.solution.inTime},on:{click:function(){e.solution&&t.getAnswers(e.solution._id)}}},[n("h4",[t._v("("+t._s(e.name)+")")]),n("h4",[t._v("("+t._s(e.phone)+")")]),e.solution?n("div",{attrs:{dir:"rtl"}},[n("span",[t._v(" اجابة امتحان رقم")]),n("span",[t._v(" ("+t._s(e.solution.number)+")")]),n("span",[t._v(" ("+t._s(e.solution.name)+")")]),n("span",[t._v(" ("+t._s(t._f("section")(e.solution.unit,e.solution.stage))+") ")])]):t._e(),e.solution?n("h4",[t._v(" ("+t._s(e.solution.fullDegree>0?e.solution.totalDegree+"/"+e.solution.fullDegree:"")+") ")]):t._e()])})),0):t._e()])])},r=[],s=(n("c740"),n("bc3a")),a=n.n(s),o=n("56d7"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"examToCorrect bg-light"},[n("hr"),n("div",{staticClass:"header"},[n("h3",{staticStyle:{color:"#555","font-weight":"bold"}},[t._v(" "+t._s(t._f("student")(t.examToCorrect.userId,"fullname"))+" ")]),n("h3",[t._v("("+t._s(t.examToCorrect.number)+") أمتحان رقم")]),n("h4",[t._v(t._s(t._f("stage")(t.examToCorrect.stage)))]),n("h4",[n("strong"),t._v("("+t._s(t.examToCorrect.year)+"/"+t._s(t.examToCorrect.year+1)+") العام الدراسي ")]),n("h2",{staticStyle:{color:"red"}},[t._v("("+t._s(t.mark)+" / "+t._s(t.fullMark)+")")])]),n("hr"),n("div",{staticClass:"solution"},t._l(t.examToCorrect.sections,(function(e,i){return n("div",{key:i,staticClass:"section"},[e.type.includes("http")?t._e():n("h4",{staticClass:"aligned"},[t._v(" "+t._s(e.type)+" ")]),e.type.includes("http")?n("img",{staticClass:"img-fluid aligned",attrs:{sizes:"(min-width: 30em) 30em, 100vw",src:"https"+e.type.split("http")[1]}}):t._e(),t._l(e.questions,(function(e,i){return n("div",{key:i,staticClass:"question directed"},[n("div",{staticClass:"right aligned"},[e.question.includes("http")?t._e():n("div",{staticClass:"ques aligned"},[t._v(" "+t._s("-"+e.question+"؟")+" ")]),e.question.includes("http")?n("img",{staticClass:"ques img-fluid",attrs:{sizes:"(min-width: 30em) 30em, 100vw",src:"https"+e.question.split("http")[1]}}):t._e(),n("div",{staticClass:"answer directed"},[n("strong",{staticStyle:{color:"#7fb68e","font-size":"16px"}},[t._v("الاجابة ")]),t._v(": "),n("div",[t._v(t._s(e.answer))])]),n("div",{staticClass:"correction directed w-100"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.correction,expression:"question.correction"}],attrs:{type:"text",placeholder:"correction"},domProps:{value:e.correction},on:{input:function(n){n.target.composing||t.$set(e,"correction",n.target.value)}}})])]),n("div",{staticClass:"degree"},[n("integer-plusminus",{attrs:{min:0,max:e.fullDegree,value:0,"increment-aria-label":"increase by 1","decrement-aria-label":"decrease by 1","spin-button-aria-label":"example two"},on:{change:function(e){return t.calculateMark()}},model:{value:e.degree,callback:function(n){t.$set(e,"degree",n)},expression:"question.degree"}}),n("p",{staticStyle:{"font-size":"1.5rem",color:"#5559"}},[t._v("("+t._s(e.fullDegree)+")")])],1)])}))],2)})),0),t.loading?n("div",{staticClass:"center"},[n("loading")],1):t._e(),n("div",{staticClass:"row options"},[n("div",{staticClass:"col-md-6"},[n("button",{staticClass:"btn submit",attrs:{type:"button"},on:{click:t.submitCorrection}},[t._v(" نشر التصحيح ")])]),n("div",{staticClass:"col-md-6"},[n("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(){return t.removeCorrection(t.examToCorrect._id)}}},[t._v(" مسح الامتحان للطالب ")])])]),n("hr")])},u=[],l=(n("159b"),n("96cf"),n("1da1")),d=n("5530"),f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"int-pm",class:{"int-pm-vertical":t.vertical}},[n("button",{staticClass:"int-pm-btn",class:t.getBtnClass(!0),attrs:{"aria-label":t.decrementAriaLabel,disabled:t.disabled},on:{click:function(e){t.vertical?t.increment():t.decrement()}}},[t._t(t.vertical?"increment":"decrement",[t._v(t._s(t.vertical?"+":"-"))])],2),n("div",{ref:"spinbutton",staticClass:"int-pm-value",attrs:{role:"spinbutton",tabindex:"0","aria-valuenow":t.value,"aria-valuemin":t.min,"aria-valuemax":t.max,"aria-label":t.spinButtonAriaLabel}},[t._t("default",[t._v(t._s(t.intValue))])],2),n("input",{attrs:{type:"hidden",name:t.formName},domProps:{value:t.intValue}}),n("button",{staticClass:"int-pm-btn",class:t.getBtnClass(!1),attrs:{"aria-label":t.incrementAriaLabel,disabled:t.disabled},on:{click:function(e){t.vertical?t.decrement():t.increment()}}},[t._t(t.vertical?"decrement":"increment",[t._v(t._s(t.vertical?"-":"+"))])],2)])},m=[],h=(n("a9e3"),{name:"IntegerPlusminus",props:{value:{default:0,type:Number},min:{default:0,type:Number},max:{default:void 0,type:Number},step:{default:1,type:Number},vertical:{default:!1,type:Boolean},incrementAriaLabel:{default:null,type:String},decrementAriaLabel:{default:null,type:String},spinButtonAriaLabel:{default:null,type:String},disabled:{default:!1,type:Boolean},formName:{default:"integerPlusMinus",type:String}},data:function(){return{intValue:0}},computed:{canIncrement:function(){return!this.disabled&&(void 0===this.max||this.intValue+this.step<=this.max)},canDecrement:function(){return!this.disabled&&this.intValue-this.step>=this.min}},mounted:function(){window.addEventListener("keydown",this.keyUp)},methods:{keyUp:function(t){this.isSpinButtonFocused()&&(33!==t.keyCode&&38!==t.keyCode||(this.increment(),t.preventDefault()),34!==t.keyCode&&40!==t.keyCode||(this.decrement(),t.preventDefault()),36===t.keyCode&&(this.setToMin(),t.preventDefault()),void 0!==this.max&&35===t.keyCode&&(this.setToMax(),t.preventDefault()))},isSpinButtonFocused:function(){return document.activeElement===this.$refs.spinbutton},getBtnClass:function(t){var e="int-pm-";return t&&!this.vertical||!t&&this.vertical?(e+="decrement",this.canDecrement||(e+=" disabled")):(e+="increment",this.canIncrement||(e+=" disabled")),e},setToMin:function(){this.disabled||(this.intValue=this.min,this.$emit("input",this.intValue))},setToMax:function(){this.disabled||(this.intValue=this.max,this.$emit("input",this.intValue))},increment:function(){this.canIncrement&&(this.intValue=this.intValue+this.step,this.$emit("ipm-increment",this.intValue),this.$emit("input",this.intValue))},decrement:function(){this.canDecrement&&(this.intValue=this.intValue-this.step,this.$emit("ipm-decrement",this.intValue),this.$emit("input",this.intValue))}},watch:{value:{handler:function(t,e){this.intValue=t}}},created:function(){this.intValue=this.value,this.step<1&&(this.step=1),this.max<this.min&&(this.max=void 0)}}),p=h,v=(n("ceeb"),n("2877")),b=Object(v["a"])(p,f,m,!1,null,"8c326ac8",null),g=b.exports,_={components:{IntegerPlusminus:g},created:function(){console.log(this.exam)},props:["exam"],data:function(){return{loading:!1}},computed:{examToCorrect:function(){return this.exam},fullMark:function(){var t,e,n=0;return null===(t=this.examToCorrect)||void 0===t||null===(e=t.sections)||void 0===e||e.forEach((function(t){t.questions.forEach((function(t){n+=t.fullDegree}))})),n},mark:function(){var t,e,n=0;return null===(t=this.examToCorrect)||void 0===t||null===(e=t.sections)||void 0===e||e.forEach((function(t){t.questions.forEach((function(t){n+=+t.degree}))})),n},adminData:function(){return this.$store.getters.adminData}},methods:{calculateMark:function(){var t=0;this.examToCorrect.sections.forEach((function(e){e.questions.forEach((function(e){t+=+e.degree}))})),this.mark=t},submitCorrection:function(){var t=this,e=Object(d["a"])(Object(d["a"])({},this.examToCorrect),{},{totalDegree:this.mark,fullDegree:this.fullMark});this.loading=!0,a.a.post("/sendUnitExamCorrectionByAdmin/"+this.examToCorrect._id,e).then((function(e){if(t.loading=!1,e.data.err)return t.$store.dispatch("writemessage",e.data.err);t.$store.dispatch("writemessage","تم حفظ التصحيح...")}))},removeCorrection:function(t){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,confirm("هل تؤكد على المسح نهائيا ؟");case 2:if(i=n.sent,i){n.next=5;break}return n.abrupt("return");case 5:a.a.delete("/removeUnitExamCorrection/"+t).then((function(n){if(n.data.err)return e.$store.dispatch("writemessage",n.data.err);o["eventBus"].$emit("close-modal"),o["eventBus"].$emit("delete-solution",t)}));case 6:case"end":return n.stop()}}),n)})))()}}},C=_,y=(n("c66d"),Object(v["a"])(C,c,u,!1,null,"f5160b42",null)),x=y.exports,w={created:function(){var t=this,e=this.$route.params.examId;this.loading=!0,a.a.get("/getExamStudentsSolutions/".concat(e)).then((function(e){t.loading=!1,t.students=e.data.examStudents,console.log(t.students)})),o["eventBus"].$on("delete-solution",(function(e){var n=t.students.findIndex((function(t){return t.solution._id==e}));t.students[n]["solution"]=null,t.students[n]["done"]=!1}))},data:function(){return{loading:!1,students:[]}},methods:{getAnswers:function(t){a.a.get("/getUnitExamSolutionById/".concat(t)).then((function(t){o["eventBus"].$emit("open-modal",{component:x,props:{exam:t.data.solution}})}))}}},k=w,O=(n("8dd6"),Object(v["a"])(k,i,r,!1,null,"1a3abfb8",null));e["default"]=O.exports},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,n){var i=n("1d80"),r=n("5899"),s="["+r+"]",a=RegExp("^"+s+s+"*"),o=RegExp(s+s+"*$"),c=function(t){return function(e){var n=String(i(e));return 1&t&&(n=n.replace(a,"")),2&t&&(n=n.replace(o,"")),n}};t.exports={start:c(1),end:c(2),trim:c(3)}},7156:function(t,e,n){var i=n("861d"),r=n("d2bb");t.exports=function(t,e,n){var s,a;return r&&"function"==typeof(s=e.constructor)&&s!==n&&i(a=s.prototype)&&a!==n.prototype&&r(t,a),t}},"89c9":function(t,e,n){},"8dd6":function(t,e,n){"use strict";n("89c9")},a9e3:function(t,e,n){"use strict";var i=n("83ab"),r=n("da84"),s=n("94ca"),a=n("6eeb"),o=n("5135"),c=n("c6b6"),u=n("7156"),l=n("c04e"),d=n("d039"),f=n("7c73"),m=n("241c").f,h=n("06cf").f,p=n("9bf2").f,v=n("58a8").trim,b="Number",g=r[b],_=g.prototype,C=c(f(_))==b,y=function(t){var e,n,i,r,s,a,o,c,u=l(t,!1);if("string"==typeof u&&u.length>2)if(u=v(u),e=u.charCodeAt(0),43===e||45===e){if(n=u.charCodeAt(2),88===n||120===n)return NaN}else if(48===e){switch(u.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+u}for(s=u.slice(2),a=s.length,o=0;o<a;o++)if(c=s.charCodeAt(o),c<48||c>r)return NaN;return parseInt(s,i)}return+u};if(s(b,!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var x,w=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof w&&(C?d((function(){_.valueOf.call(n)})):c(n)!=b)?u(new g(y(e)),n,w):y(e)},k=i?m(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),O=0;k.length>O;O++)o(g,x=k[O])&&!o(w,x)&&p(w,x,h(g,x));w.prototype=_,_.constructor=w,a(r,b,w)}},ade3:function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",(function(){return i}))},b5b2:function(t,e,n){},b64b:function(t,e,n){var i=n("23e7"),r=n("7b0b"),s=n("df75"),a=n("d039"),o=a((function(){s(1)}));i({target:"Object",stat:!0,forced:o},{keys:function(t){return s(r(t))}})},c66d:function(t,e,n){"use strict";n("4455")},c740:function(t,e,n){"use strict";var i=n("23e7"),r=n("b727").findIndex,s=n("44d2"),a="findIndex",o=!0;a in[]&&Array(1)[a]((function(){o=!1})),i({target:"Array",proto:!0,forced:o},{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),s(a)},ceeb:function(t,e,n){"use strict";n("b5b2")},dbb4:function(t,e,n){var i=n("23e7"),r=n("83ab"),s=n("56ef"),a=n("fc6a"),o=n("06cf"),c=n("8418");i({target:"Object",stat:!0,sham:!r},{getOwnPropertyDescriptors:function(t){var e,n,i=a(t),r=o.f,u=s(i),l={},d=0;while(u.length>d)n=r(i,e=u[d++]),void 0!==n&&c(l,e,n);return l}})},e439:function(t,e,n){var i=n("23e7"),r=n("d039"),s=n("fc6a"),a=n("06cf").f,o=n("83ab"),c=r((function(){a(1)})),u=!o||c;i({target:"Object",stat:!0,forced:u,sham:!o},{getOwnPropertyDescriptor:function(t,e){return a(s(t),e)}})}}]);
//# sourceMappingURL=chunk-0d78d8eb.9621a7f5.js.map