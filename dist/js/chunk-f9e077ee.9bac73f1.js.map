{"version":3,"sources":["webpack:///./src/views/units-exams/admin/addExam.vue?62bf","webpack:///src/views/units-exams/admin/addExam.vue","webpack:///./src/views/units-exams/admin/addExam.vue?36dc","webpack:///./src/views/units-exams/admin/addExam.vue","webpack:///./src/views/units-exams/admin/addExam.vue?97cd","webpack:///./src/functions.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","action","_v","_e","_s","exam","number","directives","name","rawName","value","expression","attrs","domProps","on","$event","target","composing","$set","modifiers","_n","$forceUpdate","year","$$selectedVal","Array","prototype","filter","call","options","o","selected","map","val","_value","multiple","getUnits","_l","unit","key","model","callback","$$v","numberOfQuestionsSections","ref","pickPdf","pdfName","section","i","concatArraysOfQuestionsHandler","addExam","gotoSolutionModel","questionsExist","copyQuestions","questionsStorageExist","pasteQuestions","download","staticStyle","getJson","upload","removeQuestions","staticRenderFns","created","$route","params","id","fetchAPI","examId","localStorage","getItem","JSON","parse","setTimeout","removeItem","res","data","mounted","destroyed","intervalSave","clearInterval","components","QuestionsSection","Loading","Datetime","stage","deadLine","Date","getTime","publishDate","toISOString","substring","timer","sections","pdf","loading","removing","allQuestions","uploadAPI","examExist","units","file","internalSave","computed","watch","num","slice","methods","questions","saveProgress","setItem","stringify","newExam","$router","push","$store","getters","validate","errors","forEach","sec","type","ques","question","fullDegree","choices","length","opt","alert","error","console","log","dispatch","a","href","url","click","window","URL","revokeObjectURL","split","fileReader","readAsText","blob","addEventListener","$refs","confirm","size","component","getStage","getSection","store","find","generateExamModel","solutionModel","answer","degree","correction"],"mappings":"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","file":"js/chunk-f9e077ee.9bac73f1.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"cont\"},[_c('div',{staticClass:\"header\"},[(_vm.action === 'addExam')?_c('h2',{staticClass:\"text-center\"},[_vm._v(\"أضافة أمتحان\")]):_vm._e(),(_vm.action === 'editExam')?_c('h2',{staticClass:\"text-center\"},[_vm._v(\"تعديل الأمتحان\")]):_vm._e(),(_vm.action === 'editExam')?_c('h5',{staticClass:\"text-center\"},[_vm._v(_vm._s(_vm.exam.number))]):_vm._e(),_c('hr')]),_c('div',{staticClass:\"settings\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-4\"},[_c('div',{staticClass:\"examinfo\"},[_c('label',[_vm._v(\"أسم الامتحان\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.exam.name),expression:\"exam.name\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.exam.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.exam, \"name\", $event.target.value)}}})])]),(_vm.action === 'addExam' || _vm.action === 'saved')?_c('div',{staticClass:\"col-md-4\"},[_c('div',{staticClass:\"examinfo\"},[_c('label',[_vm._v(\"رقم الامتحان\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.exam.number),expression:\"exam.number\",modifiers:{\"number\":true}}],staticClass:\"form-control\",attrs:{\"type\":\"number\"},domProps:{\"value\":(_vm.exam.number)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.exam, \"number\", _vm._n($event.target.value))},\"blur\":function($event){return _vm.$forceUpdate()}}})])]):_vm._e(),_c('div',{staticClass:\"col-md-4\"},[_c('div',{staticClass:\"examinfo form-text\"},[_c('label',{attrs:{\"for\":\"stage\"}},[_vm._v(\"السنة الدراسية\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.exam.year),expression:\"exam.year\",modifiers:{\"number\":true}}],staticClass:\"form-control\",attrs:{\"id\":\"stage\",\"min\":\"2020\",\"type\":\"number\"},domProps:{\"value\":(_vm.exam.year)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.exam, \"year\", _vm._n($event.target.value))},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('span',[_vm._v(\"/\"+_vm._s(_vm.exam.year + 1))])])]),_c('div',{staticClass:\"col-md-4\"},[_c('div',{staticClass:\"examinfo\"},[_c('label',[_vm._v(\"المرحلة الدراسية\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.exam.stage),expression:\"exam.stage\"}],staticClass:\"form-control\",on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.exam, \"stage\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])},_vm.getUnits]}},[_c('option',{attrs:{\"selected\":\"\",\"value\":\"1\"}},[_vm._v(\"الصف الأول الاعدادي\")]),_c('option',{attrs:{\"selected\":\"\",\"value\":\"2\"}},[_vm._v(\"الصف الثاني الاعدادي\")]),_c('option',{attrs:{\"selected\":\"\",\"value\":\"3\"}},[_vm._v(\"الصف الثالث الاعدادي\")]),_c('option',{attrs:{\"selected\":\"\",\"value\":\"4\"}},[_vm._v(\"الصف الأول الثانوي\")]),_c('option',{attrs:{\"selected\":\"\",\"value\":\"5\"}},[_vm._v(\"الصف الثاني الثانوي\")]),_c('option',{attrs:{\"selected\":\"\",\"value\":\"6\"}},[_vm._v(\"الصف الثالث الثانوي\")])])])]),_c('div',{staticClass:\"col-md-4\"},[_c('div',{staticClass:\"examinfo\"},[_c('label',[_vm._v(\"الوحدة\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.exam.unit),expression:\"exam.unit\"}],staticClass:\"form-control\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.exam, \"unit\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},_vm._l((_vm.units),function(unit){return _c('option',{key:unit.number,attrs:{\"selected\":\"\"},domProps:{\"value\":unit.number}},[_vm._v(\" \"+_vm._s(unit.name)+\" \")])}),0)])]),_c('div',{staticClass:\"nos col-md-4\"},[_c('div',{staticClass:\"examinfo\"},[_c('label',[_vm._v(\"مدة الأمتحان\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.exam.timer),expression:\"exam.timer\",modifiers:{\"number\":true}}],staticClass:\"form-control\",attrs:{\"type\":\"number\",\"min\":\"1\"},domProps:{\"value\":(_vm.exam.timer)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.exam, \"timer\", _vm._n($event.target.value))},\"blur\":function($event){return _vm.$forceUpdate()}}})])]),_c('div',{staticClass:\"col-md-4\"},[_c('div',{staticClass:\"examinfo\"},[_c('div',{staticClass:\"md-form\"},[_c('label',[_vm._v(\"تاريخ انتهاء الامتحان\")]),_c('datetime',{staticClass:\"form-control\",attrs:{\"type\":\"datetime\",\"placeholder\":\"اختار تاريخ انتهاء صلاحية الامتحان\",\"use12-hour\":\"\"},model:{value:(_vm.exam.deadLine),callback:function ($$v) {_vm.$set(_vm.exam, \"deadLine\", $$v)},expression:\"exam.deadLine\"}})],1)])]),_c('div',{staticClass:\"col-md-4\"},[_c('div',{staticClass:\"examinfo\"},[_c('label',[_vm._v(\"تاريخ النشر\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.exam.publishDate),expression:\"exam.publishDate\"}],staticClass:\"form-control\",attrs:{\"type\":\"date\"},domProps:{\"value\":(_vm.exam.publishDate)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.exam, \"publishDate\", $event.target.value)}}})])])]),_c('hr'),_c('div',{staticClass:\"row justify-content-center\"},[_c('div',{staticClass:\"nos col-md-4\"},[_c('div',{staticClass:\"examinfo\"},[_c('label',[_vm._v(\"عدد الاسئلة الرئيسية\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.numberOfQuestionsSections),expression:\"numberOfQuestionsSections\",modifiers:{\"number\":true}}],staticClass:\"form-control\",attrs:{\"type\":\"number\",\"min\":\"1\",\"max\":\"10\"},domProps:{\"value\":(_vm.numberOfQuestionsSections)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.numberOfQuestionsSections=_vm._n($event.target.value)},\"blur\":function($event){return _vm.$forceUpdate()}}})])]),_c('div',{staticClass:\"col-md-4\"},[_c('label',[_vm._v(\"PDF\")]),_c('input',{ref:\"pdf\",staticClass:\"form-control\",attrs:{\"type\":\"file\"},on:{\"change\":_vm.pickPdf}}),_c('label',[_c('a',{attrs:{\"href\":_vm.pdfName}},[_vm._v(_vm._s(_vm.pdfName))])])])])]),_c('div',{staticClass:\"questions\"},[_c('div',{staticClass:\"questionsSection\"},_vm._l((_vm.exam.sections),function(section,i){return _c('questions-section',{key:i,attrs:{\"section\":section,\"index\":i},on:{\"concatArraysOfQuestions\":_vm.concatArraysOfQuestionsHandler}})}),1)]),(_vm.loading)?_c('loading'):_vm._e(),(_vm.removing)?_c('loading'):_vm._e(),_c('div',{staticClass:\"row justify-content-center align-items-center\"},[_c('div',{staticClass:\"actions col-md-4\"},[_c('button',{staticClass:\"btn\",on:{\"click\":_vm.addExam}},[_vm._v(\"اضافة الامتحان\")])]),(_vm.examExist)?_c('div',{staticClass:\"col-md-4\"},[_c('button',{staticClass:\"btn btn-success\",on:{\"click\":_vm.gotoSolutionModel}},[_vm._v(\" اضافة نموذج اجابة \")])]):_vm._e(),_c('div',{staticClass:\"col-md-4\"},[_c('button',{staticClass:\"_btn btn-1\",attrs:{\"disabled\":!_vm.questionsExist},on:{\"click\":_vm.copyQuestions}},[_vm._v(\" Copy \")])]),_c('div',{staticClass:\"col-md-4\"},[_c('button',{staticClass:\"_btn btn-2\",attrs:{\"disabled\":!_vm.questionsStorageExist},on:{\"click\":_vm.pasteQuestions}},[_vm._v(\" Paste \")])]),_c('div',{staticClass:\"col-md-4\"},[_c('button',{staticClass:\"_btn btn-3\",attrs:{\"disabled\":!_vm.questionsExist},on:{\"click\":_vm.download}},[_vm._v(\" Download \")])]),_c('div',{staticClass:\"col-md-4\"},[_c('input',{ref:\"upload\",staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"file\"},on:{\"change\":_vm.getJson}}),_c('button',{staticClass:\"_btn btn-4\",on:{\"click\":_vm.upload}},[_vm._v(\"Upload\")])]),_c('div',{staticClass:\"col-md-4\"},[_c('button',{staticClass:\"_btn btn-danger\",on:{\"click\":_vm.removeQuestions}},[_vm._v(\"Remove\")])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"cont\">\n    <div class=\"header\">\n      <h2 v-if=\"action === 'addExam'\" class=\"text-center\">أضافة أمتحان</h2>\n      <h2 v-if=\"action === 'editExam'\" class=\"text-center\">تعديل الأمتحان</h2>\n      <h5 class=\"text-center\" v-if=\"action === 'editExam'\">{{ exam.number }}</h5>\n      <hr />\n    </div>\n    <div class=\"settings\">\n      <div class=\"row\">\n        <div class=\"col-md-4\">\n          <div class=\"examinfo\">\n            <label>أسم الامتحان</label>\n            <input class=\"form-control\" type=\"text\" v-model=\"exam.name\" />\n          </div>\n        </div>\n        <div v-if=\"action === 'addExam' || action === 'saved'\" class=\"col-md-4\">\n          <div class=\"examinfo\">\n            <label>رقم الامتحان</label>\n            <input class=\"form-control\" type=\"number\" v-model.number=\"exam.number\" />\n          </div>\n        </div>\n        <div class=\"col-md-4\">\n          <div class=\"examinfo form-text\">\n            <label for=\"stage\">السنة الدراسية</label>\n            <input\n              id=\"stage\"\n              class=\"form-control\"\n              min=\"2020\"\n              type=\"number\"\n              v-model.number=\"exam.year\"\n            />\n            <span>/{{ exam.year + 1 }}</span>\n          </div>\n        </div>\n        <div class=\"col-md-4\">\n          <div class=\"examinfo\">\n            <label>المرحلة الدراسية</label>\n            <select @change=\"getUnits\" class=\"form-control\" v-model=\"exam.stage\">\n              <option selected value=\"1\">الصف الأول الاعدادي</option>\n              <option selected value=\"2\">الصف الثاني الاعدادي</option>\n              <option selected value=\"3\">الصف الثالث الاعدادي</option>\n              <option selected value=\"4\">الصف الأول الثانوي</option>\n              <option selected value=\"5\">الصف الثاني الثانوي</option>\n              <option selected value=\"6\">الصف الثالث الثانوي</option>\n            </select>\n          </div>\n        </div>\n        <!--------------------------UNIT----------------------------->\n        <div class=\"col-md-4\">\n          <div class=\"examinfo\">\n            <label>الوحدة</label>\n            <select class=\"form-control\" v-model=\"exam.unit\">\n              <option\n                v-for=\"unit in units\"\n                :key=\"unit.number\"\n                selected\n                :value=\"unit.number\"\n              >\n                {{ unit.name }}\n              </option>\n            </select>\n          </div>\n        </div>\n        <div class=\"nos col-md-4\">\n          <div class=\"examinfo\">\n            <label>مدة الأمتحان</label>\n            <input\n              class=\"form-control\"\n              type=\"number\"\n              min=\"1\"\n              v-model.number=\"exam.timer\"\n            />\n          </div>\n        </div>\n        <div class=\"col-md-4\">\n          <div class=\"examinfo\">\n            <div class=\"md-form\">\n              <label>تاريخ انتهاء الامتحان</label>\n              <datetime\n                class=\"form-control\"\n                type=\"datetime\"\n                placeholder=\"اختار تاريخ انتهاء صلاحية الامتحان\"\n                use12-hour\n                v-model=\"exam.deadLine\"\n              ></datetime>\n            </div>\n          </div>\n        </div>\n        <div class=\"col-md-4\">\n          <div class=\"examinfo\">\n            <label>تاريخ النشر</label>\n            <input type=\"date\" class=\"form-control\" v-model=\"exam.publishDate\" />\n          </div>\n        </div>\n      </div>\n      <hr />\n      <div class=\"row justify-content-center\">\n        <div class=\"nos col-md-4\">\n          <div class=\"examinfo\">\n            <label>عدد الاسئلة الرئيسية</label>\n            <input\n              class=\"form-control\"\n              type=\"number\"\n              min=\"1\"\n              max=\"10\"\n              v-model.number=\"numberOfQuestionsSections\"\n            />\n          </div>\n        </div>\n        <div class=\"col-md-4\">\n          <label>PDF</label>\n          <input @change=\"pickPdf\" type=\"file\" ref=\"pdf\" class=\"form-control\" />\n          <label\n            ><a :href=\"pdfName\">{{ pdfName }}</a></label\n          >\n        </div>\n      </div>\n    </div>\n    <div class=\"questions\">\n      <div class=\"questionsSection\">\n        <questions-section\n          :section=\"section\"\n          :index=\"i\"\n          @concatArraysOfQuestions=\"concatArraysOfQuestionsHandler\"\n          v-for=\"(section, i) in exam.sections\"\n          :key=\"i\"\n        />\n      </div>\n    </div>\n    <loading v-if=\"loading\" />\n    <loading v-if=\"removing\" />\n    <div class=\"row justify-content-center align-items-center\">\n      <div class=\"actions col-md-4\">\n        <button class=\"btn\" @click=\"addExam\">اضافة الامتحان</button>\n      </div>\n      <div v-if=\"examExist\" class=\"col-md-4\">\n        <button class=\"btn btn-success\" @click=\"gotoSolutionModel\">\n          اضافة نموذج اجابة\n        </button>\n      </div>\n      <div class=\"col-md-4\">\n        <button :disabled=\"!questionsExist\" @click=\"copyQuestions\" class=\"_btn btn-1\">\n          Copy\n        </button>\n      </div>\n      <div class=\"col-md-4\">\n        <button\n          :disabled=\"!questionsStorageExist\"\n          @click=\"pasteQuestions\"\n          class=\"_btn btn-2\"\n        >\n          Paste\n        </button>\n      </div>\n      <div class=\"col-md-4\">\n        <button :disabled=\"!questionsExist\" @click=\"download\" class=\"_btn btn-3\">\n          Download\n        </button>\n      </div>\n      <div class=\"col-md-4\">\n        <input style=\"display: none\" type=\"file\" ref=\"upload\" @change=\"getJson\" />\n        <button @click=\"upload\" class=\"_btn btn-4\">Upload</button>\n      </div>\n      <div class=\"col-md-4\">\n        <button @click=\"removeQuestions\" class=\"_btn btn-danger\">Remove</button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport QuestionsSection from \"../../../components/admin/QuestionsSection.vue\";\nimport Loading from \"../../../components/loading.vue\";\nimport { eventBus } from \"../../../main.js\";\nimport { Datetime } from \"vue-datetime\";\nimport { generateRandomString } from \"../../../functions\";\nexport default {\n  created() {\n    if (this.$route.params.id) {\n      this.action = \"editExam\";\n      this.fetchAPI = \"/fetchUnitExamById/\" + this.$route.params.id;\n      this.examId = this.$route.params.id;\n    } else {\n      this.action = \"addExam\";\n      if (localStorage.getItem(\"exam\")) {\n        this.exam = JSON.parse(localStorage.getItem(\"exam\"));\n        return (this.numberOfQuestionsSections = this.exam.sections.length);\n      }\n      setTimeout(() => {\n        this.numberOfQuestionsSections = 1;\n      }, 200);\n    }\n    //////////////////////////////////////////////////////////\n\n    if (this.action == \"editExam\") {\n      localStorage.removeItem(\"exam\");\n      axios.get(this.fetchAPI).then((res) => {\n        if (!res.data.exam) {\n          setTimeout(() => {\n            this.numberOfQuestionsSections = 1;\n          }, 200);\n          return;\n        }\n        this.exam = res.data.exam;\n        this.pdfName = res.data.exam.pdf;\n        this.numberOfQuestionsSections = res.data.exam.sections.length;\n        this.examExist = true;\n      });\n    }\n    this.getUnits();\n  },\n  mounted() {\n    if (this.action == \"addExam\")\n      this.intervalSave = setInterval(() => this.saveProgress(), 3000);\n  },\n  destroyed() {\n    if (!this.intervalSave) return;\n    clearInterval(this.intervalSave);\n  },\n  components: {\n    QuestionsSection,\n    Loading,\n    Datetime,\n  },\n  data() {\n    return {\n      exam: {\n        name: \"\",\n        number: \"\",\n        year: 2022,\n        stage: \"6\",\n        unit: \"1\",\n        deadLine: new Date(new Date().getTime() + 604800000)\n          .toISOString()\n          .substring(0, 10),\n        publishDate: new Date().toISOString().substring(0, 10),\n        timer: 5,\n        sections: [],\n        pdf: null,\n      },\n      loading: false,\n      removing: false,\n      numberOfQuestionsSections: 0,\n      allQuestions: [],\n      action: \"addExam\",\n      fetchAPI: \"\",\n      uploadAPI: \"/uploadUnitExam\",\n      /////////////////////\n      examId: null,\n      examExist: false,\n      ////////////////////\n      units: [],\n      file: null,\n      internalSave: null,\n      pdfName: null,\n    };\n  },\n  computed: {\n    questionsExist() {\n      // return localStorage.getItem(\"exam\");\n      return true;\n    },\n    questionsStorageExist() {\n      // return localStorage.getItem(\"questions\");\n      return true;\n    },\n  },\n  watch: {\n    numberOfQuestionsSections(val) {\n      let num = 0;\n      const exam = { ...this.exam };\n      for (let i = 0; i < val; i++) {\n        this.exam.sections[i] = exam.sections[i] || {};\n        num++;\n      }\n      this.exam.sections = this.exam.sections.slice(0, num);\n    },\n  },\n  methods: {\n    concatArraysOfQuestionsHandler(questions, i) {\n      this.allQuestions[i] = questions;\n    },\n    saveProgress() {\n      eventBus.$emit(\"save\");\n      const exam = { ...this.exam, sections: this.allQuestions };\n      localStorage.setItem(\"exam\", JSON.stringify(exam));\n    },\n    async addExam() {\n      this.allQuestions = [];\n      eventBus.$emit(\"collectQuestions\");\n      console.log(this.validate());\n      if (!this.validate()) return;\n      const exam = await this.createExamFormData();\n      this.loading = true;\n      axios.post(this.uploadAPI, exam).then((res) => {\n        this.allQuestions = [];\n        this.loading = false;\n        if (res.data.err) {\n          this.examExist = false;\n          this.$store.dispatch(\"writemessage\", res.data.err);\n          return;\n        }\n        this.examExist = true;\n        if (res.data.id) this.examId = res.data.id;\n        this.$store.dispatch(\"writemessage\", \"تم رفع الامتحان بنجاح\");\n        localStorage.removeItem(\"exam\");\n      });\n    },\n    newExam() {\n      this.action = \"addExam\";\n      this.numberOfQuestionsSections = 0;\n      setTimeout(() => {\n        this.numberOfQuestionsSections = 1;\n      }, 200);\n      this.exam = {\n        stage: \"6\",\n        number: 1,\n        year: 2021,\n        publishDate: new Date().toISOString().substring(0, 10),\n        timer: 5,\n        deadLine: new Date(new Date().getTime() + 6048000).toISOString().substring(0, 10),\n        sections: [],\n      };\n    },\n    async createExamFormData() {\n      const formData = new FormData();\n      const exam = { ...this.exam };\n      delete exam[\"sections\"];\n      delete exam[\"fullDegree\"];\n      for (let prop in exam) {\n        if (prop == \"pdf\" && exam[prop] && typeof exam[prop] != \"string\") {\n          formData.append(prop, exam[prop], new Date().getTime().toString());\n          continue;\n        }\n        formData.append(prop, exam[prop]);\n      }\n      let fullDegree = 0;\n      const sections = [];\n      for (let section of this.allQuestions) {\n        sections.push(section);\n        if (section.type.includes(\"blob:\")) {\n          const name = `address-${section.number}`;\n          const url = await fetch(section.type);\n          const blob = await url.blob();\n          const file = new File([blob], `${name}.${section.mimetype.split(\"/\")[1]}`, {\n            type: section.mimetype,\n          });\n          formData.append(\"image\", file, name);\n        }\n        for (let ques of section.questions) {\n          //////////////////////////\n          fullDegree += ques.fullDegree;\n          //////////////////////////\n          if (ques.question.includes(\"blob:\")) {\n            const name = `question-${section.number}-${\n              ques.number\n            }-${new Date().getTime()}`;\n            const url = await fetch(ques.question);\n            const blob = await url.blob();\n            const file = new File([blob], `${name}.${ques.mimetype.split(\"/\")[1]}`, {\n              type: ques.mimetype,\n            });\n            formData.append(\"image\", file, name);\n          }\n        }\n      }\n      formData.append(\"fullDegree\", fullDegree);\n      formData.append(\"sections\", JSON.stringify(sections));\n\n      return formData;\n    },\n    gotoSolutionModel() {\n      if (this.examExist) {\n        this.$router.push(\"/dashboard/unit-exam-solutionModel/\" + this.examId);\n      }\n    },\n    getUnits() {\n      this.units = this.$store.getters.sections.filter(\n        (unit) => unit.stage == this.exam.stage\n      );\n    },\n    validate() {\n      const errors = [];\n      if (this.exam.name == \"\") errors.push(\"لم تضع أسم الأمتحان\");\n      if (this.exam.number == \"\") errors.push(\"لم تضع رقم الأمتحان\");\n      if (this.exam.timer == 0) errors.push(\"لم تضع مدة الامتحان\");\n      if (this.action == \"addExam\" && this.exam.number == \"\")\n        errors.push(\"لم تضع رقم الامتحان\");\n      if (new Date(this.exam.deadLine).getTime() < new Date().getTime())\n        errors.push(\"تاريخ صلاحية الامتحان في تاريخ سابق\");\n      ///////////////////////////////////////////////////////////////\n      this.allQuestions.forEach((sec) => {\n        if (sec.type == \"\") errors.push(`عنوان القسم رقم ${sec.number + 1} غير موجود`);\n        sec.questions.forEach((ques, i) => {\n          if (ques.question == \"\")\n            errors.push(`السؤال رقم ${i + 1} في القسم رقم ${sec.number + 1} غير موجود`);\n          if (ques.fullDegree == \"\")\n            errors.push(\n              `درجة السؤال رقم ${i + 1} في القسم رقم ${sec.number + 1} غير موجودة`\n            );\n          if (ques.choices.length < 2)\n            errors.push(\n              `عدد الأختيارات في السؤال رقم ${i + 1} القسم رقم  ${\n                sec.number + 1\n              } أقل من أختيارين`\n            );\n          ques.choices.forEach((opt, c) => {\n            if (opt == \"\")\n              errors.push(\n                `الاختيار رقم ${c + 1} في السؤال رقم ${i + 1} في القسم رقم ${\n                  sec.number + 1\n                } غير موجود`\n              );\n          });\n        });\n      });\n      if (errors.length > 0) {\n        errors.forEach((error) => {\n          alert(error);\n        });\n        return false;\n      }\n      console.log(errors);\n      return true;\n    },\n    copyQuestions() {\n      eventBus.$emit(\"collectQuestions\");\n      localStorage.setItem(\"questions\", JSON.stringify(this.allQuestions));\n      this.$store.dispatch(\"writemessage\", \"تم نسخ الأمتحان\");\n    },\n    pasteQuestions() {\n      const sections = JSON.parse(localStorage.getItem(\"questions\"));\n      if (sections) {\n        this.exam = { ...this.exam, sections };\n        this.numberOfQuestionsSections = sections.length;\n      }\n    },\n    download() {\n      eventBus.$emit(\"collectQuestions\");\n      const json = JSON.stringify(this.allQuestions);\n      const blob = new Blob([json], { type: \"octet/stream\" });\n      const url = window.URL.createObjectURL(blob);\n      // const url =\n      //   \"data:text/json;charset=utf-8,\" +\n      //   encodeURIComponent(JSON.stringify(this.allQuestions));\n      const a = document.createElement(\"a\");\n      a.download = this.exam.name + \".json\";\n      a.href = url;\n      a.click();\n      window.URL.revokeObjectURL(url);\n    },\n    getJson(e) {\n      const file = e.target.files[0];\n      if (file.type.split(\"/\")[1] != \"json\") return alert(\"ملفات json فقط مسمحوحة\");\n      this.file = file;\n      const blob = new Blob([file], { type: \"octet/stream\" });\n      const fileReader = new FileReader();\n      fileReader.readAsText(blob);\n      fileReader.addEventListener(\"loadend\", (e) => {\n        const sections = JSON.parse(e.srcElement.result);\n        if (sections) {\n          this.exam = { ...this.exam, sections };\n          this.numberOfQuestionsSections = sections.length;\n        }\n      });\n    },\n    upload() {\n      this.$refs.upload.click();\n    },\n    removeQuestions() {\n      if (!confirm(\"تأكيد مسح الأسئلة\")) return;\n      this.exam.sections = [];\n      this.numberOfQuestionsSections = 0;\n      setTimeout(() => (this.numberOfQuestionsSections = 1), 400);\n      localStorage.removeItem(\"exam\");\n    },\n    pickPdf(e) {\n      const file = e.target.files[0];\n      if (file.type.split(\"/\")[1] != \"pdf\") return alert(\"only PDF files allowed\");\n      if (file.size > 10000000) return alert(\"file exceeds size limit\");\n      this.exam.pdf = file;\n      this.pdfName = file.name;\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n@import \"../../../../node_modules/vue-datetime/dist/vue-datetime.css\";\n\n.cont {\n  padding: 20px;\n  @media (max-width: 600px) {\n    padding: 12px;\n  }\n}\n\n.settings {\n  padding: 25px;\n  border-bottom: 3px solid rgba(141, 139, 139, 0.878);\n  @media (max-width: 600px) {\n    padding: 3px;\n    padding-bottom: 20px;\n  }\n}\n\n.examinfo {\n  text-align: right;\n  label {\n    margin-bottom: 1px;\n  }\n}\n\n.form-text {\n  position: relative;\n  span {\n    position: absolute;\n    top: 30px;\n    right: 12px;\n    color: rgba(85, 85, 85, 0.81);\n    font-weight: 800;\n  }\n}\n\n.actions {\n  width: 100%;\n  padding: 12px;\n  button {\n    color: #fff;\n    padding: 10px 20px;\n    background: linear-gradient(#8360c3, #2ea4bf);\n    width: 100%;\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addExam.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addExam.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./addExam.vue?vue&type=template&id=70f1efaf&scoped=true&\"\nimport script from \"./addExam.vue?vue&type=script&lang=js&\"\nexport * from \"./addExam.vue?vue&type=script&lang=js&\"\nimport style0 from \"./addExam.vue?vue&type=style&index=0&id=70f1efaf&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"70f1efaf\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addExam.vue?vue&type=style&index=0&id=70f1efaf&scoped=true&lang=scss&\"","import store from \"./store/index\";\n\nexport const getStage = (val) => {\n    let stage  = \"\"\n    switch(val) {\n        case \"1\": stage = 'الصف الأول الاعدادي';\n        break;\n        case \"2\": stage = 'الصف الثاني الاعدادي';\n        break;\n        case \"3\": stage = 'الصف الثالث الاعدادي';\n        break;\n        case \"4\": stage = 'الصف الأول الثانوي';\n        break;\n        case \"5\": stage = 'الصف الثاني الثانوي';\n        break;\n        case \"6\": stage = 'الصف الثالث الثانوي';\n        break;\n      }\n      return stage;\n}\n\nexport const getSection = (val, stage) => {\n  const section = store.getters.sections.find((sec) => sec.number == val && sec.stage == stage);\n  if(section) {\n    return section.name;\n  } else return val;\n}\n\nexport const generateExamModel = (exam) => {\n  const solutionModel = exam.sections.map((section) => {\n    return {\n      type: section.type,\n      questions: section.questions.map((question) => {\n        return {\n          question: question.question,\n          choices: question.choices,\n          answer: \"\",\n          degree: 0,\n          fullDegree: question.fullDegree,\n          correction: \"\",\n        };\n      }),\n    };\n  });\n  return solutionModel;\n}\n\nexport const shuffleArray = (arr) => {\n  const questions = [];\n  do {\n    const i = Math.floor(Math.random() * arr.length);\n    if(!questions.includes(arr[i])) questions.push(arr[i]);\n  }\n  while(arr.length != questions.length);\n  console.log(questions)\n  return questions;\n}\n\nexport const generateRandomString = (len) => {\n  const allCapsAlpha = [...\"ABCDEFGHIJKLMNOPQRSTUVWXYZ\"]; \n  const allLowerAlpha = [...\"abcdefghijklmnopqrstuvwxyz\"]; \n  const allUniqueChars = [...\"~!@#$%^&*()_+-=[]\\{}\"];\n  const allNumbers = [...\"0123456789\"];\n\n  const base = [...allCapsAlpha, ...allNumbers, ...allLowerAlpha];\n\n    return [...Array(len)]\n      .map(i => base[Math.random()*base.length|0])\n      .join('');\n  };\n"],"sourceRoot":""}