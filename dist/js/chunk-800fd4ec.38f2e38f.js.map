{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.array.splice.js","webpack:///./src/components/drawing-board.vue?555b","webpack:///./src/views/admin/live-video.vue?a3b2","webpack:///./node_modules/core-js/modules/es.array.find-index.js","webpack:///./src/views/admin/live-video.vue?95a4","webpack:///./src/components/drawing-board.vue?cb2e","webpack:///src/components/drawing-board.vue","webpack:///./src/components/drawing-board.vue?49b3","webpack:///./src/components/drawing-board.vue","webpack:///src/views/admin/live-video.vue","webpack:///./src/views/admin/live-video.vue?4aa0","webpack:///./src/views/admin/live-video.vue"],"names":["$","toAbsoluteIndex","toInteger","toLength","toObject","arraySpeciesCreate","createProperty","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","max","Math","min","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_LENGTH_EXCEEDED","target","proto","forced","splice","start","deleteCount","insertCount","actualDeleteCount","A","k","from","to","O","this","len","length","actualStart","argumentsLength","arguments","TypeError","$findIndex","findIndex","addToUnscopables","FIND_INDEX","SKIPS_HOLES","Array","callbackfn","undefined","render","_vm","_h","$createElement","_c","_self","staticClass","_v","_e","admin","attrs","directives","name","rawName","value","expression","live","on","$event","$$selectedVal","prototype","filter","call","options","o","selected","map","val","_value","stage","multiple","changeStage","startLive","stopLive","_l","user","i","key","userToDraw","_id","class","isOnline","_s","fullname","staticStyle","time","youtubeSecret","board","_m","mess","text","domProps","composing","message","sendMessage","io","staticRenderFns","color","erease","lineWidth","handleMouseDown","handleMouseUp","handleMouseMove","component","components","DrawingBoard","mounted","localStorage","getItem","joinRoom","getStageUsers","console","log","viewers","index","data","online","seconds","messages","stage_users","computed","username","userId","$store","getters","watch","methods","emit","room","state","destroyed"],"mappings":"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","file":"js/chunk-800fd4ec.38f2e38f.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar toObject = require('../internals/to-object');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar createProperty = require('../internals/create-property');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('splice');\n\nvar max = Math.max;\nvar min = Math.min;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\n\n// `Array.prototype.splice` method\n// https://tc39.es/ecma262/#sec-array.prototype.splice\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  splice: function splice(start, deleteCount /* , ...items */) {\n    var O = toObject(this);\n    var len = toLength(O.length);\n    var actualStart = toAbsoluteIndex(start, len);\n    var argumentsLength = arguments.length;\n    var insertCount, actualDeleteCount, A, k, from, to;\n    if (argumentsLength === 0) {\n      insertCount = actualDeleteCount = 0;\n    } else if (argumentsLength === 1) {\n      insertCount = 0;\n      actualDeleteCount = len - actualStart;\n    } else {\n      insertCount = argumentsLength - 2;\n      actualDeleteCount = min(max(toInteger(deleteCount), 0), len - actualStart);\n    }\n    if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER) {\n      throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n    }\n    A = arraySpeciesCreate(O, actualDeleteCount);\n    for (k = 0; k < actualDeleteCount; k++) {\n      from = actualStart + k;\n      if (from in O) createProperty(A, k, O[from]);\n    }\n    A.length = actualDeleteCount;\n    if (insertCount < actualDeleteCount) {\n      for (k = actualStart; k < len - actualDeleteCount; k++) {\n        from = k + actualDeleteCount;\n        to = k + insertCount;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n      for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n    } else if (insertCount > actualDeleteCount) {\n      for (k = len - actualDeleteCount; k > actualStart; k--) {\n        from = k + actualDeleteCount - 1;\n        to = k + insertCount - 1;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n    }\n    for (k = 0; k < insertCount; k++) {\n      O[k + actualStart] = arguments[k + 2];\n    }\n    O.length = len - actualDeleteCount + insertCount;\n    return A;\n  }\n});\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./drawing-board.vue?vue&type=style&index=0&id=b1e3c43e&scoped=true&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./live-video.vue?vue&type=style&index=0&lang=scss&\"","'use strict';\nvar $ = require('../internals/export');\nvar $findIndex = require('../internals/array-iteration').findIndex;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\nvar FIND_INDEX = 'findIndex';\nvar SKIPS_HOLES = true;\n\n// Shouldn't skip holes\nif (FIND_INDEX in []) Array(1)[FIND_INDEX](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.findIndex` method\n// https://tc39.es/ecma262/#sec-array.prototype.findindex\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES }, {\n  findIndex: function findIndex(callbackfn /* , that = undefined */) {\n    return $findIndex(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND_INDEX);\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"cont\"},[(_vm.admin)?_c('h3',{staticClass:\"text-center\"},[_vm._v(\"بدأ بث مباشر جديد\")]):_vm._e(),(!_vm.admin)?_c('h3',{staticClass:\"text-center\"},[_vm._v(\"بث مباشر\")]):_vm._e(),_c('hr'),(_vm.admin)?_c('div',{staticClass:\"admin-control\"},[_c('div',{staticClass:\"row align-items-end\",attrs:{\"dir\":\"rtl\"}},[_c('div',{staticClass:\"col-md-6\"},[_c('div',{staticClass:\"form-group\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.stage),expression:\"stage\"}],staticClass:\"form-control\",attrs:{\"disabled\":_vm.live},on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.stage=$event.target.multiple ? $$selectedVal : $$selectedVal[0]},_vm.changeStage]}},[_c('option',{attrs:{\"selected\":\"\",\"value\":\"1\"}},[_vm._v(\"الصف الأول الاعدادي\")]),_c('option',{attrs:{\"selected\":\"\",\"value\":\"2\"}},[_vm._v(\"الصف الثاني الاعدادي\")]),_c('option',{attrs:{\"selected\":\"\",\"value\":\"3\"}},[_vm._v(\"الصف الثالث الاعدادي\")]),_c('option',{attrs:{\"selected\":\"\",\"value\":\"4\"}},[_vm._v(\"الصف الأول الثانوي\")]),_c('option',{attrs:{\"selected\":\"\",\"value\":\"5\"}},[_vm._v(\"الصف الثاني الثانوي\")]),_c('option',{attrs:{\"selected\":\"\",\"value\":\"6\"}},[_vm._v(\"الصف الثالث الثانوي\")])])])]),_c('div',{staticClass:\"col-md-6 butt\"},[(!_vm.live)?_c('button',{staticClass:\"btn w-100 start\",on:{\"click\":_vm.startLive}},[_vm._v(\"ابدأ\")]):_vm._e(),(_vm.live)?_c('button',{staticClass:\"btn btn-danger end w-100\",on:{\"click\":_vm.stopLive}},[_vm._v(\" اوقف البث \")]):_vm._e()])])]):_vm._e(),_c('div',{staticClass:\"w-100 online-users\"},[_c('hr'),_c('div',{staticClass:\"row users\"},_vm._l((_vm.stage_users),function(user,i){return _c('div',{key:i,staticClass:\"col-md-2 user\",on:{\"click\":function($event){_vm.userToDraw = user._id}}},[_c('i',{staticClass:\"fa fa-user\"}),_c('span',{staticClass:\"state\",class:_vm.isOnline(user._id)},[_vm._v(_vm._s(_vm.isOnline(user._id)))]),_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(user.fullname))]),(user._id == _vm.userToDraw)?_c('p',{staticStyle:{\"background\":\"green\",\"color\":\"#fff\"}},[_vm._v(\" draw allowed \")]):_vm._e()])}),0)]),_c('div',{staticClass:\"timer m-auto\"},[_vm._v(_vm._s(_vm.time))]),_c('hr'),_c('div',{staticClass:\"con row\"},[_c('div',{staticClass:\"col-md-8 video\"},[_c('div',{staticClass:\"overlay1\"}),_c('iframe',{attrs:{\"width\":\"100%\",\"height\":\"415\",\"src\":'https://www.youtube.com/embed/live_stream?channel=' + _vm.youtubeSecret,\"title\":\"YouTube video player\",\"allowfullscreen\":\"\",\"frameborder\":\"3\",\"allow\":\"autoplay;\"}}),_c('div',{staticClass:\"overlay2\"})]),_c('div',{staticClass:\"comments\",class:_vm.board ? 'col-md-12' : 'col-md-4'},[_vm._m(0),_c('div',{staticClass:\"messages\"},_vm._l((_vm.messages),function(mess,i){return _c('div',{key:i,staticClass:\"message\"},[_c('div',{staticClass:\"name\"},[_vm._v(\" \"+_vm._s(mess.name)),_c('i',{staticClass:\"fa fa-user\",staticStyle:{\"margin-left\":\"4px\"}})]),_c('div',{staticClass:\"text\"},[_vm._v(_vm._s(mess.text))])])}),0),_c('div',{staticClass:\"send row\"},[_c('div',{staticClass:\"col-md-8\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.message),expression:\"message\"}],staticClass:\"form-control\",attrs:{\"placeholder\":\"ارسل رسالة\"},domProps:{\"value\":(_vm.message)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.message=$event.target.value}}})]),_c('div',{staticClass:\"col-md-4\"},[_c('button',{staticClass:\"btn btn-primary\",on:{\"click\":_vm.sendMessage}},[_vm._v(\"ارسل\")])])])]),_c('div',{staticClass:\"col-md-12\"},[_c('drawing-board',{attrs:{\"userToDraw\":_vm.userToDraw,\"io\":_vm.io}})],1)]),_c('hr'),_c('br'),_c('br')])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"header\"},[_c('h5',{staticClass:\"text-center\"},[_vm._v(\"الشات الجماعي\")]),_c('hr')])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"d-flex flex-column align-items-center justify-content-center\"},[_c('div',{staticClass:\"options row w-100 p-2 bg-dark m-4\",attrs:{\"dir\":\"rtl\"}},[_c('div',{staticClass:\"col-md-1\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.color),expression:\"color\"}],staticClass:\"form-control\",staticStyle:{\"height\":\"50px\",\"width\":\"70px\"},attrs:{\"type\":\"color\"},domProps:{\"value\":(_vm.color)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.color=$event.target.value}}})]),_c('div',{staticClass:\"col-md-1\"},[_c('div',{staticStyle:{\"width\":\"50px\",\"height\":\"50px\",\"cursor\":\"pointer\",\"background\":\"#fff\"},on:{\"click\":_vm.erease}},[_c('i',{staticClass:\"fa fa-rubber\"})])]),_c('div',{staticClass:\"col-md-1\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.lineWidth),expression:\"lineWidth\"}],staticClass:\"form-control\",staticStyle:{\"height\":\"50xp\"},attrs:{\"type\":\"range\",\"min\":\"1\",\"max\":\"25\",\"value\":\"5\"},domProps:{\"value\":(_vm.lineWidth)},on:{\"__r\":function($event){_vm.lineWidth=$event.target.value}}})]),(_vm.drawAllowed)?_c('div',{staticClass:\"col-md-2\"},[_c('h5',{staticStyle:{\"color\":\"#fff\"}},[_vm._v(\"مسموح لك بالكتابة\")])]):_vm._e()]),_c('canvas',{attrs:{\"id\":\"canvas\",\"width\":\"1500\",\"height\":\"800\"},on:{\"mousedown\":_vm.handleMouseDown,\"mouseup\":_vm.handleMouseUp,\"mousemove\":_vm.handleMouseMove}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"d-flex flex-column align-items-center justify-content-center\">\n      <div class=\"options row w-100 p-2 bg-dark m-4\" dir=\"rtl\">\n          <div class=\"col-md-1\">\n              <input type=\"color\" v-model=\"color\" style=\"height:50px;width:70px;\" class=\"form-control\">\n          </div>\n          <div class=\"col-md-1\">\n              <div @click=\"erease\" style=\"width:50px;height:50px;cursor:pointer;background:#fff;\">\n                  <i class=\"fa fa-rubber\"></i>\n              </div>\n          </div>\n          <div class=\"col-md-1\">\n              <input v-model=\"lineWidth\" style=\"height:50xp\" type=\"range\" min=\"1\" max=\"25\" value=\"5\" class=\"form-control\">\n          </div>\n          <div v-if=\"drawAllowed\" class=\"col-md-2\">\n              <h5 style=\"color:#fff\">مسموح لك بالكتابة</h5>\n          </div>\n      </div>\n      <canvas \n        id=\"canvas\"\n        width=\"1500\"\n        height=\"800\"\n        v-on:mousedown=\"handleMouseDown\" \n        v-on:mouseup=\"handleMouseUp\" \n        v-on:mousemove=\"handleMouseMove\" \n        ></canvas>\n  </div>\n</template>\n<script>\n// import { url } from \"../main\";\n// import socket from \"socket.io-page\";\n  export default {\n    props: [\"io\", \"userToDraw\"],\n    mounted() {\n        if(this.role == 1) {\n            this.drawAllowed = true\n        }\n\n        var c = document.getElementById(\"canvas\");\n        this.ctx = c.getContext(\"2d\");\n        this.ctx.imageSmoothingEnabled= false;\n\n\n        this.io.on(\"mouse-down\", data => {if(data.userId !== this.userId) this.mouseDownAction(data)});\n        this.io.on(\"mouse-up\", data => {if(data.userId != this.userId) this.mouse.down = false});\n        this.io.on(\"erease\", data => {if(data.userId != this.userId) this.ctx.clearRect(0,0,1000,1000)});\n        this.io.on(\"mouse-move\", data => {if(data.userId != this.userId) this.mouseMoveAction(data)});\n        this.io.on(\"user-to-draw\", userId => {\n            if(this.role != 1) {\n                if(userId == this.userId) {\n                    this.drawAllowed = true;\n                } else this.drawAllowed = false;\n            }\n        })\n    },\n    data: () => {\n        return {\n            // io: socket(url),\n            ctx: null,\n            color: \"#000\",\n            lineWidth: 2,\n            drawAllowed: false,\n        mouse: {\n            current: {\n                x: 0,\n                y: 0\n            },\n            previous: {\n                x: 0,\n                y: 0\n            },\n            down: false\n            }\n        }\n    },\n    computed: {\n        currentMouse: function () {\n            var c = document.getElementById(\"canvas\");\n            var rect = c.getBoundingClientRect();\n            // var rect = {left: 0, top: 0}\n            console.log(this.mouse.current.y - rect.top)\n            return {\n                x: this.mouse.current.x - rect.left,\n                y: this.mouse.current.y - rect.top\n                // x: (this.mouse.current.x - rect.left) / (rect.right - rect.left) * c.width,\n                // y: (this.mouse.current.y - rect.top) / (rect.bottom - rect.top) * c.height\n            }\n        },\n        stage() {\n            return this.$store.getters.stage;\n        },\n        role() {\n            return this.$store.getters.role;\n        },\n        userId() {\n            return this.$store.getters.userId;\n        },\n    },\n    watch: {\n        userToDraw(val) {\n            console.log(val)\n            if(this.role == 1) {\n                this.io.emit(\"user-to-draw\", {stage: this.stage, userId: val});\n            }\n        }\n    },\n    methods: {\n        draw: function (event) {\n            if (this.mouse.down ) {\n                this.ctx.strokeStyle = this.color;\n                if(event.color) this.ctx.strokeStyle = event.color;\n                this.ctx.lineWidth = this.lineWidth;\n                if(event.color) this.ctx.lineWidth = event.lineWidth;\n                this.ctx.lineTo(this.currentMouse.x, this.currentMouse.y);\n                this.ctx.stroke();\n            }\n        },\n\n        handleMouseDown: function (event) {\n            if(!this.drawAllowed) return;\n            this.mouseDownAction(event);\n            this.io.emit(\"mouse-down\", {stage: this.stage, userId: this.userId, clientX: event.clientX, clientY: event.clientY});\n        },\n        mouseDownAction(event) {\n            const rect = document.getElementById(\"canvas\").getBoundingClientRect();\n            console.log(rect);\n            window.scrollTo(0, 1250)\n            this.mouse.down = true;\n            this.ctx.closePath();\n            this.ctx.beginPath();\n\n            this.mouse.current = {\n                x: event.clientX,\n                y: event.clientY\n            }\n            this.ctx.moveTo(this.currentMouse.x, this.currentMouse.y);\n        },\n        handleMouseUp: function () {\n            if(!this.drawAllowed) return;\n            this.mouse.down = false;\n            this.io.emit(\"mouse-up\", {stage: this.stage, userId: this.userId});\n        },\n\n        handleMouseMove: function (event) {\n            if(!this.mouse.down || !this.drawAllowed) return;\n            this.mouseMoveAction(event);\n            this.io.emit(\"mouse-move\", {stage: this.stage, userId: this.userId, clientX: event.clientX, clientY: event.clientY, color: this.color, lineWidth: this.lineWidth})\n        },\n        mouseMoveAction(event) {\n            if(!this.mouse.down) return;\n            this.mouse.current = {\n                x: event.clientX,\n                y: event.clientY\n            }\n            this.draw(event)\n        },\n        erease() {\n            if(this.role == 1) {\n                this.ctx.clearRect(0,0,1000,1000);\n                this.io.emit(\"erease\", {stage: this.stage, userId: this.userId});\n            }\n        }\n    },\n  }\n</script>\n<style scoped lang=\"scss\">  \n    canvas {\n        background: white;\n        // height: 100vh;\n        box-shadow: 0px 2px 3px rgba(0, 0, 0, 0.2);\n    }\n</style>\n\n\n\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./drawing-board.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./drawing-board.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./drawing-board.vue?vue&type=template&id=b1e3c43e&scoped=true&\"\nimport script from \"./drawing-board.vue?vue&type=script&lang=js&\"\nexport * from \"./drawing-board.vue?vue&type=script&lang=js&\"\nimport style0 from \"./drawing-board.vue?vue&type=style&index=0&id=b1e3c43e&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b1e3c43e\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"cont\">\n    <h3 v-if=\"admin\" class=\"text-center\">بدأ بث مباشر جديد</h3>\n    <h3 v-if=\"!admin\" class=\"text-center\">بث مباشر</h3>\n    <hr />\n    <div v-if=\"admin\" class=\"admin-control\">\n      <div class=\"row align-items-end\" dir=\"rtl\">\n        <div class=\"col-md-6\">\n          <div class=\"form-group\">\n            <select\n              :disabled=\"live\"\n              @change=\"changeStage\"\n              v-model=\"stage\"\n              class=\"form-control\"\n            >\n              <option selected value=\"1\">الصف الأول الاعدادي</option>\n              <option selected value=\"2\">الصف الثاني الاعدادي</option>\n              <option selected value=\"3\">الصف الثالث الاعدادي</option>\n              <option selected value=\"4\">الصف الأول الثانوي</option>\n              <option selected value=\"5\">الصف الثاني الثانوي</option>\n              <option selected value=\"6\">الصف الثالث الثانوي</option>\n            </select>\n          </div>\n        </div>\n        <div class=\"col-md-6 butt\">\n          <!-- <button @click=\"toggle\" class=\"btn btn-success w-100\">جرب</button> -->\n          <!-- <keep-alive> -->\n          <button v-if=\"!live\" @click=\"startLive\" class=\"btn w-100 start\">ابدأ</button>\n          <button v-if=\"live\" @click=\"stopLive\" class=\"btn btn-danger end w-100\">\n            اوقف البث\n          </button>\n          <!-- </keep-alive> -->\n        </div>\n        <!-- <div class=\"col-md-4\">\n          <div class=\"form-group\">\n            <label>اختر فيديو أو صبورة</label>\n            <select v-model=\"board\" class=\"form-control\">\n              <option :value=\"false\">فيديو</option>\n              <option :value=\"true\">الصبورة</option>\n            </select>\n          </div>\n        </div> -->\n      </div>\n    </div>\n\n    <div class=\"w-100 online-users\">\n      <hr />\n      <div class=\"row users\">\n        <div\n          v-for=\"(user, i) in stage_users\"\n          @click=\"userToDraw = user._id\"\n          :key=\"i\"\n          class=\"col-md-2 user\"\n        >\n          <i class=\"fa fa-user\"></i>\n          <span :class=\"isOnline(user._id)\" class=\"state\">{{ isOnline(user._id) }}</span>\n          <div class=\"name\">{{ user.fullname }}</div>\n          <p v-if=\"user._id == userToDraw\" style=\"background: green; color: #fff\">\n            draw allowed\n          </p>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"timer m-auto\">{{ time }}</div>\n    <hr />\n    <div class=\"con row\">\n      <div class=\"col-md-8 video\">\n        <div class=\"overlay1\"></div>\n        <iframe\n          width=\"100%\"\n          height=\"415\"\n          :src=\"'https://www.youtube.com/embed/live_stream?channel=' + youtubeSecret\"\n          title=\"YouTube video player\"\n          allowfullscreen\n          frameborder=\"3\"\n          allow=\"autoplay;\"\n        ></iframe>\n        <div class=\"overlay2\"></div>\n      </div>\n      <div class=\"comments\" :class=\"board ? 'col-md-12' : 'col-md-4'\">\n        <div class=\"header\">\n          <h5 class=\"text-center\">الشات الجماعي</h5>\n          <hr />\n        </div>\n        <div class=\"messages\">\n          <div v-for=\"(mess, i) in messages\" :key=\"i\" class=\"message\">\n            <div class=\"name\">\n              {{ mess.name }}<i style=\"margin-left: 4px\" class=\"fa fa-user\"></i>\n            </div>\n            <div class=\"text\">{{ mess.text }}</div>\n          </div>\n        </div>\n        <div class=\"send row\">\n          <div class=\"col-md-8\">\n            <textarea v-model=\"message\" class=\"form-control\" placeholder=\"ارسل رسالة\" />\n          </div>\n          <div class=\"col-md-4\">\n            <button @click=\"sendMessage\" class=\"btn btn-primary\">ارسل</button>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"col-md-12\">\n        <drawing-board :userToDraw=\"userToDraw\" :io=\"io\" />\n      </div>\n    </div>\n    <hr />\n    <br /><br />\n  </div>\n</template>\n<script>\nimport { url } from \"../../main\";\nimport socket from \"socket.io-client\";\nimport Axios from \"axios\";\nimport DrawingBoard from \"../../components/drawing-board\";\n\nexport default {\n  components: {\n    DrawingBoard,\n  },\n\n  mounted() {\n    if (!this.admin) {\n      this.stage = localStorage.getItem(\"stage\");\n      this.joinRoom();\n    }\n    Axios.get(\"/getYoutubeSecret\").then((res) => {\n      this.youtubeSecret = res.data.youtubeSecret;\n    });\n    this.getStageUsers();\n    this.io.on(\"live\", (data) => {\n      this.online = true;\n      this.live = true;\n      this.seconds = data.seconds;\n      this.time = new Date(this.seconds * 1000 - 2 * 60 * 60 * 1000)\n        .toString()\n        .split(\"1970\")[1]\n        .split(\"GMT\")[0];\n    });\n    this.io.on(\"finish\", () => {\n      console.log(\"finished \");\n      this.online = false;\n      this.live = false;\n      this.time = \"00:00:00\";\n      this.seconds = 0;\n      if (!this.admin) {\n        this.$router.replace(\"/\");\n      }\n    });\n    this.io.on(\"comment\", (mess) => {\n      this.messages.push(mess);\n    });\n    this.io.on(\"new_user\", (user) => {\n      if (!this.viewers.includes(user.userId)) {\n        this.viewers.push(user.userId);\n      }\n    });\n    this.io.on(\"quited\", (userId) => {\n      const index = this.viewers.findIndex((viewer) => viewer == userId);\n      const viewers = [...this.viewers];\n      viewers.splice(index, 1);\n      this.viewers = viewers;\n    });\n    this.io.on(\"not_allowed\", () => {\n      this.$router.replace(\"/\");\n    });\n    this.io.on(\"user-to-draw\", (userToDraw) => {\n      this.userToDraw = userToDraw;\n    });\n  },\n  data() {\n    return {\n      io: socket(Axios.defaults.baseURL),\n      stage: \"6\",\n      live: false,\n      online: false,\n      seconds: 0,\n      time: \"00:00:00\",\n      message: \"\",\n      messages: [],\n      stage_users: [],\n      viewers: [],\n      youtubeSecret: \"\",\n      board: false,\n      userToDraw: null,\n    };\n  },\n  computed: {\n    admin() {\n      return localStorage.getItem(\"role\") == 1;\n    },\n    username() {\n      return localStorage.getItem(\"username\");\n    },\n    userId() {\n      return this.$store.getters.userId;\n    },\n  },\n  watch: {\n    stage: (val) => {\n      // console.log(val);\n    },\n  },\n  methods: {\n    startLive() {\n      console.log(this.stage);\n      this.io.emit(\"add_boradcaster\", this.stage);\n    },\n    stopLive() {\n      this.io.emit(\"stop\", this.stage);\n      this.time = \"00:00:00\";\n      this.seconds = 0;\n      this.messages = [];\n    },\n    sendMessage() {\n      this.io.emit(\"do_comment\", {\n        name: this.username,\n        text: this.message,\n      });\n      this.message = \"\";\n    },\n    changeStage() {\n      this.getStageUsers();\n    },\n    getStageUsers() {\n      Axios.get(\"/getStageUsers/\" + this.stage).then((res) => {\n        this.stage_users = res.data.users;\n        console.log(this.stage_users);\n      });\n    },\n    joinRoom() {\n      this.io.emit(\"register_as_user\", {\n        userId: this.userId,\n        room: localStorage.getItem(\"stage\"),\n      });\n    },\n    isOnline(id) {\n      const state = this.viewers.includes(id) ? \"online\" : \"offline\";\n      return state;\n    },\n  },\n\n  destroyed() {\n    this.io.emit(\"quit\", this.userId);\n    if (this.admin) {\n      this.stopLive();\n    }\n  },\n};\n</script>\n<style lang=\"scss\">\n.cont {\n  padding: 120px 12px 100px 12px;\n  h3 {\n    background: rgba(161, 159, 159, 0.803);\n    padding: 6px 5px;\n  }\n  @media (max-width: 500px) {\n    padding: 120px 0 100px 0;\n    h3 {\n      font-size: 1.2rem;\n    }\n  }\n  background: rgba(201, 202, 204, 0.701);\n  width: 100%;\n}\n.timer {\n  text-align: center;\n  font-weight: 600;\n  font-size: 3rem;\n  @media (max-width: 500px) {\n    font-size: 1.5rem;\n  }\n}\n.video {\n  height: 100%;\n  .overlay1 {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 70%;\n    background: rgba(146, 144, 144, 0.061);\n  }\n  .overlay2 {\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    height: 20%;\n    background: rgba(146, 144, 144, 0.061);\n  }\n}\n.comments {\n  background: rgb(255, 255, 255);\n  @media (max-width: 500px) {\n    h5 {\n      font-size: 1.1rem;\n    }\n  }\n  .messages {\n    padding: 10px;\n    height: 50vh;\n    overflow-y: auto;\n    .message {\n      border-radius: 15px;\n      margin-top: 20px;\n      padding: 10px;\n      border-bottom: 1px solid rgba(28, 70, 83, 0.585);\n      .name,\n      .text {\n        text-align: right;\n      }\n      .name {\n        color: #555;\n        border-bottom: 1px solid rgba(165, 164, 164, 0.224);\n      }\n      .text {\n        margin-top: 9px;\n        padding-right: 10px;\n      }\n    }\n  }\n  .send {\n    button {\n      width: 100%;\n    }\n  }\n}\n\n.online-users {\n  margin: 40px auto;\n  max-height: 200px;\n  overflow-y: auto;\n  @media (max-width: 500px) {\n    max-height: 50vh;\n  }\n  h5 {\n    text-align: center;\n  }\n  .users {\n    direction: rtl;\n    // display: flex;\n    // justify-content: center;\n    // align-items: center;\n    background: #fff;\n    overflow: auto;\n    .user {\n      text-align: center;\n      .state {\n        margin-right: 5px;\n        color: red;\n        &.online {\n          color: green;\n        }\n      }\n    }\n  }\n}\n.butt {\n  .start {\n    background: rgba(0, 0, 0, 0.796);\n    color: #fff;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./live-video.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./live-video.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./live-video.vue?vue&type=template&id=4d8d7c24&\"\nimport script from \"./live-video.vue?vue&type=script&lang=js&\"\nexport * from \"./live-video.vue?vue&type=script&lang=js&\"\nimport style0 from \"./live-video.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}