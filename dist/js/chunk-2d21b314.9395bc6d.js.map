{"version":3,"sources":["webpack:///./src/views/tasks/task-controller.vue?9e3e","webpack:///src/views/tasks/task-controller.vue","webpack:///./src/views/tasks/task-controller.vue?3fe2","webpack:///./src/views/tasks/task-controller.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_e","action","solutionModel","attrs","exam","solutionModelId","result","staticRenderFns","components","Exam","data","loading","stage","userId","lessonId","watch","$route","setComponent","methods","component"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAAEJ,EAAW,QAAEI,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,YAAY,GAAGJ,EAAIO,KAAoB,aAAdP,EAAIQ,QAAyBR,EAAIS,cAAeL,EAAG,MAAM,CAACE,YAAY,wBAAwB,CAACF,EAAG,OAAO,CAACM,MAAM,CAAC,KAAOV,EAAIW,KAAK,eAAiBX,EAAIS,cAAc,iBAAkB,EAAK,gBAAkBT,EAAIY,oBAAoB,GAAGZ,EAAIO,KAAoB,YAAdP,EAAIQ,QAAwBR,EAAIS,cAAeL,EAAG,MAAM,CAACE,YAAY,wBAAwB,CAACF,EAAG,OAAO,CAACM,MAAM,CAAC,KAAOV,EAAIW,KAAK,eAAiBX,EAAIS,cAAc,QAAS,MAAS,GAAGT,EAAIO,KAAoB,cAAdP,EAAIQ,QAA0BR,EAAIa,OAAQT,EAAG,MAAM,CAACE,YAAY,wBAAwB,CAACF,EAAG,OAAO,CAACM,MAAM,CAAC,KAAOV,EAAIa,OAAO,eAAiBb,EAAIS,cAAc,UAAW,MAAS,GAAGT,EAAIO,QAChyBO,EAAkB,G,iHC4BtB,G,UAAA,CACEC,WAAY,CACVC,KAAJ,cAEE,QAJF,WAIA,wJACA,iBADA,8CAGEC,KAPF,WAQI,MAAO,CACLT,OAAQ,GACRU,SAAS,EACTP,KAAM,KACNF,cAAe,KACfG,gBAAiB,KACjBO,MAAO,IACPC,OAAQ,KACRC,SAAU,KACVR,OAAQ,OAGZS,MAAO,CACLC,OADJ,SACA,KACMtB,KAAKuB,iBAGTC,QAAS,CAIP,oBAJJ,WAIA,gLACA,4CADA,OACA,EADA,OAEA,mBACA,EAHA,kBAGA,QACA,6EACA,aACA,iBACA,mBAEA,iBACA,sCACA,sDACA,iDAZA,8CAmBI,mBAvBJ,WAuBA,8KACA,2CACA,oBACA,gBACA,gBAJA,UACA,EADA,OAMA,cACA,WAPA,uBAQA,iBARA,kBASA,8CATA,OAWA,mBACA,iBACA,oBACA,kBACA,gBACA,uBACA,qBACA,mBACA,kBAEA,mDArBA,+CA0BI,oBAjDJ,WAiDA,yKACA,yBACA,2BAFA,SAGA,uDAHA,OAGA,EAHA,OAIA,aACA,yBALA,8CAUI,aA3DJ,WA2DA,iKACA,+BACA,iCACA,aAEA,WACA,sDACA,2DACA,oEAEA,sBAVA,wBAWA,6BAXA,UAYA,wBAZA,mCAaA,qBAbA,wBAcA,6BAdA,UAeA,uBAfA,mCAgBA,uBAhBA,kCAgBA,wBAhBA,kDCjHwW,I,YCOpWC,EAAY,eACd,EACA3B,EACAe,GACA,EACA,KACA,KACA,MAIa,aAAAY,E","file":"js/chunk-2d21b314.9395bc6d.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.loading)?_c('div',{staticClass:\"center\"},[_c('loading')],1):_vm._e(),(_vm.action == 'taskAdmin' && _vm.solutionModel)?_c('div',{staticClass:\"container p-md-3 p-0\"},[_c('exam',{attrs:{\"exam\":_vm.exam,\"solution_model\":_vm.solutionModel,\"isSolutionModel\":true,\"solutionModelId\":_vm.solutionModelId}})],1):_vm._e(),(_vm.action == 'taskUser' && _vm.solutionModel)?_c('div',{staticClass:\"container p-md-3 p-0\"},[_c('exam',{attrs:{\"exam\":_vm.exam,\"solution_model\":_vm.solutionModel,\"isTask\":true}})],1):_vm._e(),(_vm.action == 'taskResult' && _vm.result)?_c('div',{staticClass:\"container p-md-3 p-0\"},[_c('exam',{attrs:{\"exam\":_vm.result,\"solution_model\":_vm.solutionModel,\"isResult\":true}})],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div v-if=\"loading\" class=\"center\">\n      <loading />\n    </div>\n    <div v-if=\"action == 'taskAdmin' && solutionModel\" class=\"container p-md-3 p-0\">\n      <exam\n        :exam=\"exam\"\n        :solution_model=\"solutionModel\"\n        :isSolutionModel=\"true\"\n        :solutionModelId=\"solutionModelId\"\n      />\n    </div>\n    <!-------------------------------------------------->\n    <div v-if=\"action == 'taskUser' && solutionModel\" class=\"container p-md-3 p-0\">\n      <exam :exam=\"exam\" :solution_model=\"solutionModel\" :isTask=\"true\" />\n    </div>\n    <!-------------------------------------------------->\n    <div v-if=\"action == 'taskResult' && result\" class=\"container p-md-3 p-0\">\n      <exam :exam=\"result\" :solution_model=\"solutionModel\" :isResult=\"true\" />\n    </div>\n  </div>\n</template>\n\n<script>\nimport Exam from \"../exam-component.vue\";\nimport axios from \"axios\";\nimport { generateExamModel } from \"../../functions\";\nimport { eventBus } from \"../../main\";\nexport default {\n  components: {\n    Exam,\n  },\n  async created() {\n    this.setComponent();\n  },\n  data() {\n    return {\n      action: \"\",\n      loading: false,\n      exam: null,\n      solutionModel: null,\n      solutionModelId: null,\n      stage: \"6\",\n      userId: null,\n      lessonId: null,\n      result: null,\n    };\n  },\n  watch: {\n    $route(to, from) {\n      this.setComponent();\n    },\n  },\n  methods: {\n    ////////////////////////////////////////////////////////////////////////\n    /////////////////////////TASK ADMIN//////////////////////////////////////\n    ////////////////////////////////////////////////////////////////////////\n    async getTaskByIdForAdmin() {\n      const res = await axios.get(\"/fetchTaskByLessonId/\" + this.lessonId);\n      this.exam = res.data.exam;\n      const exam = { ...this.exam };\n      axios.get(\"/fetchUnitExamSolutionModelForAdmin/\" + this.lessonId).then((res) => {\n        this.loading = false;\n        this.solutionModel = {\n          examId: this.lessonId,\n        };\n        if (res.data.solution) {\n          this.solutionModelId = res.data.solution._id;\n          this.solutionModel[\"sections\"] = res.data.solution.sections;\n        } else this.solutionModel[\"sections\"] = generateExamModel(exam);\n      });\n    },\n    ////////////////////////////////////////////////////////////////////////\n    /////////////////////////TASK USER//////////////////////////////////////\n    ////////////////////////////////////////////////////////////////////////\n\n    async getTaskByIdForUser() {\n      const res = await axios.post(\"/fetchTaskByLessonIdForStudent\", {\n        lessonId: this.lessonId,\n        userId: this.userId,\n        stage: this.stage,\n      });\n      this.loading = false;\n      if (res.data.err) {\n        this.$router.back();\n        return this.$store.dispatch(\"writemessage\", res.data.err);\n      }\n      this.exam = res.data.exam;\n      this.solutionModel = {\n        lessonId: this.lessonId,\n        taskId: this.exam._id,\n        userId: this.userId,\n        section: this.exam.section,\n        lesson: this.exam.number,\n        stage: this.exam.stage,\n        name: this.exam.name,\n      };\n      this.solutionModel[\"sections\"] = generateExamModel(this.exam);\n    },\n    ////////////////////////////////////////////////////////////////////////\n    /////////////////////////TASK RESULT////////////////////////////////////\n    ////////////////////////////////////////////////////////////////////////\n    async getUserTaskSolution() {\n      const userId = this.$route.params.userId;\n      const lessonId = this.$route.params.lessonId;\n      const res = await axios.post(\"/getUserTaskSolution\", { userId, lessonId });\n      this.loading = false;\n      this.result = res.data.solution;\n    },\n    ///////////////////////////////////////////////////////////////\n    ///////////////////////////////////////////////////////////////\n    ///////////////////////////////////////////////////////////////\n    async setComponent() {\n      this.stage = this.$store.getters.stage;\n      this.userId = this.$store.getters.userId;\n      this.loading = true;\n      ///////////////////////////////\n      const route = this.$route;\n      if (route.path.includes(\"answerTaskUser\")) this.action = \"taskUser\";\n      else if (route.path.includes(\"answerTaskAdmin\")) this.action = \"taskAdmin\";\n      if (this.$route.path.includes(\"userTaskSolution\")) this.action = \"taskResult\";\n      ////////////////////////////////\n      if (this.action == \"taskAdmin\") {\n        this.lessonId = route.params.lessonId;\n        await this.getTaskByIdForAdmin();\n      } else if (this.action == \"taskUser\") {\n        this.lessonId = route.params.lessonId;\n        await this.getTaskByIdForUser();\n      } else if (this.action == \"taskResult\") await this.getUserTaskSolution();\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./task-controller.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./task-controller.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./task-controller.vue?vue&type=template&id=2911d968&\"\nimport script from \"./task-controller.vue?vue&type=script&lang=js&\"\nexport * from \"./task-controller.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}